<!doctype html>
<html>
<!-- head -->
{% include head.html %}
<!-- scripts -->
{% include scripts.html %}
{% include pnet-viewer.html %}
<body id="top">

    <div id="top-nav" class="mdl-layout">
        <!-- nav -->
        {% include top-nav.html %}
        <main class="mdl-layout__content">
            <div class="page-content">
                {% for petrinet in site.petrinets %}
                    <div class="title-cont">
                        <a href="{{site.url}}{{ petrinet.url }}">
                            <div class="inner">
                                {{ petrinet.title }}
                            </div>
                        </a>
                    </div>
                    <div class="content-grid mdl-grid nets-container">
                        <div class="vert-align text-center mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet">
                            <!-- insert net here -->
                            <petrinet-viewer id="{{petrinet.title}}"></petrinet-viewer>
                            <script>
                            var netInfo = {{ petrinet.net | jsonify}}
                            var title = "{{petrinet.title}}"
                            var isChromium = window.chrome;
                            var winNav = window.navigator;
                            var vendorName = winNav.vendor;
                            var isOpera = typeof window.opr !== "undefined";
                            var isIEedge = winNav.userAgent.indexOf("Edge") > -1;
                            var isIOSChrome = winNav.userAgent.match("CriOS");

                            if (isIOSChrome) {
                              // is Google Chrome on IOS
                            } else if(
                              isChromium !== null &&
                              typeof isChromium !== "undefined" &&
                              vendorName === "Google Inc." &&
                              isOpera === false &&
                              isIEedge === false
                            ) {
                              // is Google Chrome
                              renderNet(title, netInfo);
                            } else {
                              // not Google Chrome
                              insertNet(netInfo.net.places, netInfo.net.transitions, netInfo.net.marking, 13)
                            }
                            </script>
                        </div>
                        <div class="vert-align mdl-cell mdl-cell--6-col mdl-cell--8-col-tablet">
                            {{ petrinet.excerpt }}
                            <!-- net description -->
                        </div>
                    </div>
                {% endfor %}

                <div style="padding: 40px">
                    {{ content }}

                </div>
            </div>
        </main>
    </div>
</body>

</html>
